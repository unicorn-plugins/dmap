# 목표 
선언형 멀티에이전트 플러그인(Declarative Multi-Agent Plugin. 이하 DMAP) 빌더 개발 
- DMAP 빌더 개발 
- DMAP 외부 발표 준비

# 회사소개
- 이름: 유니콘주식회사
- 설립일: 2022.2.28
- 업종: 시스템 소프트웨어 개발 및 공급업, 직원 훈련기관
- 주요사업
   - 직원역량 교육: AI, 서비스 기획, 애자일, 마이크로서비스, Cloud Native Application, CI/CD, 클라우드
   - IT 컨설팅: 서비스 기획, MSA설계/개발, 애자일 코칭, CI/CD

# 팀 행동원칙
- 'M'사상을 믿고 실천한다. : Value-Oriented, Interactive, Iterative
- 'M'사상 실천을 위한 마인드셋을 가진다
   - Value Oriented: WHY First, Align WHY
   - Interactive: Believe crew, Yes And
   - Iterative: Fast fail, Learn and Pivot

# 대화 가이드
- 'q:'로 시작하면 질문임. Fact와 Opinion으로 나누어 답변 
- 특별한 언급이 없으면 한국어로 대화
- (중요) "답변할 때 답변하는 사람의 별명" 표시
 
# 최적안  가이드
'o:'로 시작하면 최적안을 도출하라는 요청임 
1) 각자의 생각을 얘기함
2) 의견을 종합하여 동일한 건 한 개만 남기고 비슷한 건 합침
3) 최적안 후보 5개를 선정함
4) 각 최적안 후보 5개에 대해 평가함
5) 최적안 1개를 선정함
6) "1) ~ 5)번" 과정을 10번 반복함
7) 최종으로 선정된 최적안을 제시함

# Git 연동
- "pull" 명령어 입력 시 Git pull 명령을 수행하고 충돌이 있을 때 최신 파일로 병합 수행
- "push" 또는 "푸시" 명령어 입력 시 git add, commit, push를 수행
- Commit Message는 한글로 함

# URL링크 참조
- URL링크는 WebFetch가 아닌 'curl {URL} > claude/{filename}'명령으로 저장
- 동일한 파일이 있으면 덮어 씀 
- '.dmap'디렉토리가 없으면 생성하고 다운로드   
- 저장된 파일을 읽어 사용함

# 마크다운 작성 가이드
(중요) 플로그인 표준 문서(standards 디렉토리 하위 존재)에는 적용하지 않음 
  
## 기본 
- 문서 작성 시 명사체(명사형 종결어미) 사용
  - 예시: "~한다" → "~함", "~이다" → "~임", "~된다" → "~됨"
  - 예시: "지원한다" → "지원", "사용할 수 있다" → "사용 가능"
- 한 줄은 120자 이내로 작성, 긴 문장은 적절히 줄바꿈
  - 마크다운 줄바꿈: 문장 끝에 스페이스 2개 + 줄바꿈
- 간결하고 객관적인 기술 문서 스타일 유지

## 목차 및 구분선
```
# 1. 목차(TOC) 추가
- 파일 최상단의 `# 제목` 바로 아래에 목차를 추가
- 목차는 `# `, `## `, `### ` 헤딩을 기반으로 생성
- 형식: 마크다운 링크 목록 (GitHub 스타일 앵커)
- 첫 번째 `# ` 항목은 `- [제목](#앵커)` 형식 (인덴트 없음, 최상위)
- 두 번째 이후 `# ` 항목은 `- [제목](#앵커)` 형식 (인덴트 없음)
- `## ` 항목은 `  - [제목](#앵커)` 형식 (인덴트 2칸)
- `### ` 항목은 `    - [제목](#앵커)` 형식 (인덴트 4칸)

앵커 생성 규칙:
- 소문자 변환
- 공백 → `-`
- 특수문자(괄호, 마침표, 콤마, 콜론 등) 제거
- 한글은 그대로 유지
- 예: `## 1.1 개요` → `#11-개요`
- 예: `### STEP 1. 문서 준비` → `#step-1-문서-준비`

# 2. `---` 구분선 추가
- 모든 `## ` (level-2) 헤딩 바로 위에 `---` 수평선 추가
- 형식:
#앵커

---
다음 섹션

# 3. `[Top]` 링크 추가
- 각 `## ` (level-2) 섹션의 마지막에 `[Top](#앵커)` 링크 추가
- 앵커는 파일의 `# 제목`에 해당하는 앵커
- 다음 `---` 바로 위에 위치
- 파일의 마지막 `## ` 섹션에도 끝에 `[Top]` 링크 추가

# 주의사항
- 기존 내용은 절대 수정하지 마세요
- 이미 `---`나 `[Top]`이 있는 파일은 중복 추가하지 마세요
- `# ` (level-1) 헤딩이 파일에 여러 개 있을 수 있음
  - 목차는 첫 번째 `# ` 헤딩 기준으로 생성
  - `[Top]` 링크는 `## ` (level-2) 섹션에만 추가
  - `# ` (level-1) 헤딩에는 `[Top]` 링크를 추가하지 않음
- 코드블록(``` 또는 ~~~) 안의 `##`는 헤딩이 아니므로 무시
```

# 가이드문서
- Dify-DSL-가이드
  - url: https://raw.githubusercontent.com/unicorn-plugins/gen-ma-plugin/refs/heads/main/guides/dify-workflow-dsl-guide.md
  - filename: dify-workflow-dsl-guide.md

# Lessons Learned


# dmap 플러그인

## 사용 가능한 명령

| 명령 | 설명 |
|------|------|
| `/dmap:develop-plugin` | DMAP 플러그인 개발 (4-Phase 워크플로우) |
| `/dmap:requirement-writer` | 요구사항 정의서 작성 지원 (AI 자동 완성) |
| `/dmap:publish` | 개발 완료된 플러그인을 GitHub에 배포 |
| `/dmap:setup` | DMAP 빌더 초기 설정 |
| `/dmap:help` | 사용 안내 |

## 자동 라우팅

다음과 같은 요청은 자동으로 dmap 플러그인이 처리합니다:
- "플러그인 만들어줘", "DMAP 플러그인 개발" → /dmap:develop-plugin
- "배포해줘", "publish", "GitHub에 올려줘", "플러그인 등록" → /dmap:publish
- "요구사항 작성", "정의서 작성", "요구사항 정의" → /dmap:requirement-writer
- "DMAP 설정", "빌더 설정" → /dmap:setup
- "도움말", "뭘 할 수 있어" → /dmap:help


## 운영 규칙

- **요구사항 변형 금지**: 원래의 요구사항을 변형해야 할 때는 반드시 사용자에게 확인 후 진행
- **프로토타이핑 완료 보장**: Dify 프로토타이핑 시 100% 정상 실행될 때까지 계속 진행.
  단, 총 소요 시간이 8시간을 초과하면 즉시 중단하고 사용자에게 문제 보고

## 자동 라우팅

다음과 같은 요청은 자동으로 abra 플러그인이 처리합니다:
- "에이전트 만들어줘", "Agent 개발" → 전체 5단계 워크플로우
- "시나리오 생성해줘", "요구사항 정의" → /abra:scenario
- "DSL 생성해줘", "워크플로우 DSL" → /abra:dsl-generate
- "프로토타이핑 해줘", "Dify 업로드" → /abra:prototype
- "개발계획서 써줘" → /abra:dev-plan
- "코드 개발해줘", "Agent 구현" → /abra:develop
- "Dify 설치", "Docker 실행" → /abra:dify-setup
- "도움말", "명령어 목록" → /abra:help
