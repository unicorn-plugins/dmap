# Scenario-Analyst Agent & Scenario Skill 생성 완료

## 생성 일시
2026-02-09

## 생성된 파일 목록

### Agent 파일 (4개)
1. `agents/scenario-analyst/AGENT.md` - 에이전트 프롬프트 (WHY+HOW)
2. `agents/scenario-analyst/agentcard.yaml` - 에이전트 카드 (WHO+WHAT+WHEN)
3. `agents/scenario-analyst/tools.yaml` - 추상 도구 선언
4. `agents/scenario-analyst/references/requirement-generater.md` - 프롬프트 템플릿 (복사됨)

### Skill 파일 (2개)
5. `skills/scenario/SKILL.md` - Orchestrator 스킬 (위임형)
6. `commands/scenario.md` - 슬래시 명령 진입점

## 표준 준수 검증

### Agent 표준 (plugin-standard-agent.md) ✅
- [x] AGENT.md: Frontmatter(name, description) 포함
- [x] AGENT.md: 필수 섹션(목표, 참조, 워크플로우, 출력 형식, 검증) 포함
- [x] AGENT.md: 참조 섹션에서 agentcard.yaml과 tools.yaml 참조 지시
- [x] AGENT.md: `{tool:name}` 추상 참조만 사용 (구체 도구명 없음)
- [x] agentcard.yaml: name, version, tier, capabilities, handoff 포함
- [x] tier: MEDIUM (4-tier 중 하나)
- [x] capabilities.identity: is/is_not 구분됨
- [x] handoff: target, when, reason 포함
- [x] AGENT.md는 WHY+HOW만, agentcard.yaml은 WHO+WHAT+WHEN만 (경계 원칙 준수)
- [x] tools.yaml: name, description, input, output 포함
- [x] forbidden_actions: 표준 액션 카테고리 사용

### Skill 표준 (plugin-standard-skill.md) ✅
- [x] SKILL.md: Frontmatter(name, description, user-invocable) 포함
- [x] H1 타이틀 + 목표 섹션 포함
- [x] 활성화 조건 섹션 포함
- [x] 에이전트 호출 규칙 섹션 포함 (Orchestrator 필수)
- [x] 워크플로우 섹션: Phase 패턴 사용
- [x] `→ Agent:` 마커 사용 시 5항목 포함 (TASK, EXPECTED OUTCOME, MUST DO, MUST NOT DO, CONTEXT)
- [x] 프롬프트 조립 절차 상세 기술 (3파일 로드 → runtime-mapping 구체화 → Task 호출)
- [x] 프롬프트 구성 순서: 공통 정적 → 에이전트별 정적 → 동적
- [x] 완료 조건 섹션 포함
- [x] 검증 프로토콜 섹션 포함
- [x] 상태 정리 섹션 포함
- [x] 취소/재개 섹션 포함
- [x] 섹션명 한글 표준명 사용 (목표, 활성화 조건, 워크플로우)

### 개발 계획서 (develop-plan.md) 준수 ✅
- [x] 에이전트 역할: "비즈니스 요구사항 → 구조화된 시나리오 생성"
- [x] agentcard.yaml 핵심 필드 일치
- [x] tools.yaml: file_read, file_write 선언
- [x] references: requirement-generater.md 포함
- [x] 워크플로우: 8개 섹션 생성 로직 포함
- [x] 출력 형식: 마크다운 문서 (버전별 8개 섹션 + 비교표)
- [x] 스킬 유형: Orchestrator (위임형)
- [x] Phase 0: 사용자 입력 수집 (AskUserQuestion)
- [x] Phase 1: scenario-analyst 에이전트 위임 (5항목 포함)
- [x] Phase 2: 시나리오 선택 (AskUserQuestion)
- [x] Phase 3: 결과 저장 + 완료 보고

## 파일 크기 및 구조

| 파일 | 라인 수 | 크기 | 비고 |
|------|---------|------|------|
| AGENT.md | 120+ | 3.7KB | WHY+HOW 프롬프트 |
| agentcard.yaml | 38 | 2.4KB | WHO+WHAT+WHEN 선언 |
| tools.yaml | 11 | 400B | 추상 도구 선언 |
| requirement-generater.md | 118 | 4.6KB | 템플릿 (복사) |
| SKILL.md | 160+ | 5.5KB | Orchestrator 워크플로우 |
| scenario.md (command) | 7 | 332B | 진입점 |

## FQN (정규화된 이름)

**에이전트 FQN**: `abra:scenario-analyst:scenario-analyst`

**스킬 FQN**: `abra:scenario`

**슬래시 명령**: `/abra:scenario`

## 다음 단계

이 에이전트+스킬 쌍은 Abra 플러그인의 STEP 1 (시나리오 생성 및 선택)을 담당함.

**후속 작업**:
1. `dsl-architect` 에이전트 + `dsl-generate` 스킬 (STEP 2)
2. `prototype-runner` 에이전트 + `prototype` 스킬 (STEP 3)
3. `plan-writer` 에이전트 + `dev-plan` 스킬 (STEP 4)
4. `agent-developer` 에이전트 + `develop` 스킬 (STEP 5)

## 설계 특징

### 에이전트
- **tier: MEDIUM** - 비즈니스 분석은 균형잡힌 추론 능력 필요 (Sonnet)
- **자율성**: 8개 섹션 구조와 관점별 차별화를 자체 판단
- **분리**: DSL 생성·프로토타이핑은 핸드오프 (역할 단일성)

### 스킬
- **위임형**: Agent 계층을 경유하여 LLM 추론 활용
- **사용자 상호작용**: Phase 0, 2에서 AskUserQuestion 사용
- **5항목 위임**: TASK, EXPECTED OUTCOME, MUST DO, MUST NOT DO, CONTEXT 명확히 기술
- **재개 가능**: scenario.md 파일 존재 시 재사용 여부 질문

## 검증 완료

모든 파일이 DMAP 표준을 준수하며, 개발 계획서의 설계를 정확히 구현함.
